<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup :: Knative Tutorial</title>
    <link rel="canonical" href="https://redhat-developer-demos.github.io/knative-tutorial/knative-tutorial/v1.1.0-SNAPSHOT/index.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://redhat-developer-demos.github.io/knative-tutorial">Knative Tutorial</a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Project</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>GitHub</strong></div>
            <a class="navbar-item" href="https://github.com/redhat-developer-demos/knative-tutorial">Knative Tutorial
              Repository</a>
            <a class="navbar-item" href="https://github.com/redhat-developer-demos/knative-tutorial/issues">Knative
              Tutorial Issue Tracker</a>
            <a class="navbar-item" href="https://github.com/openshift-cloud-functions/Documentation">OpenShift Cloud
              Functions
            </a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/rhdevelopers">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512">
              <path fill="#57aaee"
                d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z">
              </path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header><div class="main-wrapper">
<div class="navigation-container" data-component="knative-tutorial" data-version="v1.0.0">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Knative Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="setup.html">1. Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#download-tutorial-sources">Download Tutorial Sources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="#kubernetes-cluster">Kubernetes Cluster</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="#install-knative-minikube">Install with Minikube </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#start-minikube">Configure and Start minikube </a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="setup.html">Install Knative </a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-istio">Install Istio </a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-serving">Install Knative Serving </a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-build">Install Knative Build</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-eventing">Install Knative Eventing </a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#set-knative-tutorial-ns">Configuring Kubernetes namespace </a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="#install-knative-openshift">Install with OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-ocp">Install on OCP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#install-knative-minishift">Install on Minishift</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#configure-openshift-project">Configure OpenShift project</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#setup-work-folder">Work Folder</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="01basic-fundas.html">2. Basics and Fundamentals</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-build-containers">Build Containers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-deploy-service">Deploy Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-see-what-you-have-deployed">See what you have deployed</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#deploying-new-revision">Deploy new Revision Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-pinning-revision">Pinning service to a revision</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01basic-fundas.html#basics-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="02configs-and-routes.html">3. Configurations and Routes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#ctrd-build-containers">Build Containers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-deploy-configuration">Deploy Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-deploy-route">Deploy Route</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-see-what-you-have-deployed">See what you have deployed</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-deploying-new-revision">Deploy new Revision Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#crtd-distributing-traffic">Distributing Traffic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02configs-and-routes.html#ctrd-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="03scaling.html">4. Scaling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03scaling.html#scaling-prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03scaling.html#scaling-build-containers">Build Containers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03scaling.html#scaling-deploy-service">Deploy Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03scaling.html#scaling-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="03scaling.html#scaling-scale-to-zero">Scale to Zero</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-observer-scale-to-zero">Observing default scale down </a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-observer-scale-to-zero-1m">Change scale to zero time</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-reset-to-defaults">Reset to Defaults</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="03scaling.html#scaling-auto-scaling">Auto Scaling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-autoscaling-deploy-service">Deploy Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-autoscaling-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-load-service">Load Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="03scaling.html#scaling-min-scale">Minimum Scale</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03scaling.html#scaling-deploy-service-minscale">Deploy service </a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03scaling.html#scaling-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="04build/build.html">5. Build</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="04build/build.html#build-prerequisite">Prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build.html#build-create-docker-secret">Generate Docker Secret</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build.html#build-generate-build-spec">Generate Build Spec</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build.html#build-generate-knative-service">Generate Knative service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build.html#build-apply-prereq-resources">Apply Resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-create-build">Create Build</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-see-what-you-have-deployed">See what you have deployed</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-watching-logs">Watching logs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-build-status">Build Status</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-deploy-service-build">Deploy Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build.html#build-build-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="04build/build-templates.html">6. Build Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="04build/build-templates.html#build-template-prerequisite">Prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build-templates.html#build-template-generate-template">Generate build template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build-templates.html#build-template-generate-service">Generate Knative service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build-templates.html#build-template-apply-resources">Apply Resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="04build/build-templates.html#build-template-create-template">Create Build Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04build/build-templates.html#build-see-what-you-have-deployed">See what you have deployed</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build-templates.html#build-deploy-service-build-template">Deploy Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build-templates.html#build-template-invoke-service">Invoke Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04build/build-templates.html#build-template-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing.html">7. Eventing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05eventing/eventing.html#eventing-prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05eventing/eventing.html#eventing-assumptions">Assumptions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-svc.html">Source to Service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-source">Event Source</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-create-event-source">Create Event Source</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-verify-event-source">Verify</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-sink-service">Sink Service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-gen-sink-service">Generate Service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-deploy-sink-service">Deploy Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-see-what-you-have-deployed">See what you have deployed</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-svc.html#eventing-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-sub.html">Source to Subscriber</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-channel">Channel</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-create-event-channel">Create Event Channel</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-verify-event-channel">Verify</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-source">Event Source</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-create-event-source">Create Event Source</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-verify-event-source">Verify</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-subscriber">Event Subscriber</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-create-subscriber">Create Event Subscriber</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-verify-subscriber">Verify</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-see-what-you-have-deployed">See what you have deployed</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-subscriber-service">Subscriber Service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-gen-subscriber-service">Generate Service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-deploy-subscriber-service">Deploy Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="05eventing/eventing-src-sub.html#eventing-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05eventing/eventing.html#eventing-watch-logs">Watching Logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="faq.html">8.Frequently Asked Questions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/intro.html">9.Eventing with Apache Camel</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/setup.html">Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/setup.html#camelk-prerequisite">Prerequisite</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/setup.html#camelk-download-sources">Download Demo Sources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/setup.html#camelk-install-minio-s3">Install minio s3 Server</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/setup.html#minio-aws-cli-configure">Configure AWS cli</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/setup.html#install-camel-k">Install Camel-K </a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/setup.html#configure-local-registry">Configure Local Container Registry</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/getting-started.html">Message Filter</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/getting-started.html#gs-prereq">Prerequisite</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/getting-started.html#gs-overview">Demo Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/getting-started.html#gs-deployment">Deployment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/getting-started.html#gs-make-s3-data-bucket">Create data s3 bucket</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/getting-started.html#gs-make-s3-top-bucket">Create top s3 bucket</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/getting-started.html#gs-cartoon-messages-mover">Deploy Camel Route</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/getting-started.html#gs-watch-logs">Watching Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/getting-started.html#gs-test-cartoon-messages-mover">Testing Route</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/getting-started.html#gs-test-data">Upload Test Data</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/getting-started.html#gs-invoke-service">Invoke service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/getting-started.html#gs-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/poll-enrich.html">Poll Enrich</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-prereq">Prerequisite</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-overview">Demo Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/poll-enrich.html#pe-deployment">Deployment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-make-s3-data-bucket">Create data s3 bucket</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-make-s3-top-bucket">Create top s3 bucket</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-cartoon-messages-downloader">Deploy Camel Route</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-watch-logs">Watching Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/poll-enrich.html#pe-test-cartoon-messages-downloader">Testing Route</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-test-data">Upload Test Data</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-invoke-service">Invoke service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/poll-enrich.html#pe-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/content-based-router.html">Content Based Router</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-prereq">Prerequisite</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-overview">Demo Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/content-based-router.html#cbr-deployment">Deployment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-make-s3-data-bucket">Create data s3 bucket</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-create-channels">Create Knative  Channels</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/content-based-router.html#cbr-deploy-routes">Deploy Routes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-comedy-genre-handler">Comedy Genre Handler</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-others-genre-handler">Others Genre Handler</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-cartoon-genre-router">Cartoon Genre Router</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-see-what-you-have-deployed">See what you have deployed </a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-watch-logs">Watching Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="camelk/content-based-router.html#cbr-test-cartoon-genre-router">Testing Route</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-test-data">Upload Test Data</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-invoke-service">Invoke service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="camelk/content-based-router.html#cbr-cleanup">Cleanup</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Knative Tutorial</span>
    <span class="version">v1.0.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Eventing with Apache Camel</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../knative-tutorial-camelk/v1.0.0/index.html">v1.0.0</a>
        </li>
        <li class="version">
          <a href="../../knative-tutorial-camelk/v1.0.0-SNAPSHOT/index.html">v1.0.0-SNAPSHOT</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Knative Tutorial</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../v1.1.0-SNAPSHOT/index.html">v1.1.0-SNAPSHOT</a>
        </li>
        <li class="version is-current">
          <a href="index.html">v1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../v1.1.0-SNAPSHOT/index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Knative Tutorial</a></li>
    <li class="crumb"><a href="setup.html">1. Setup</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">v1.0.0</button>
  <div class="versions-menu">
    <a class="version is-missing" href="../v1.1.0-SNAPSHOT/index.html">v1.1.0-SNAPSHOT</a>
    <a class="version is-current" href="setup.html">v1.0.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/redhat-developer-demos/knative-tutorial/blob/v1.0.0/documentation/modules/ROOT/pages/setup.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Setup</h1>
<div class="sect1">
<h2 id="prerequisite"><a class="anchor" href="#prerequisite"></a>Prerequisite CLI tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following CLI tools are required for running the exercises in this tutorial. Please have them installed and configured before you get started with any of the tutorial chapters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Tool</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>macOS</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Fedora</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Remarks</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>minikube</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://kubernetes.io/docs/setup/minikube" class="bare">https://kubernetes.io/docs/setup/minikube</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://kubernetes.io/docs/setup/minikube" class="bare">https://kubernetes.io/docs/setup/minikube</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>minishift</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/minishift/minishift/releases" class="bare">https://github.com/minishift/minishift/releases</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/minishift/minishift/releases" class="bare">https://github.com/minishift/minishift/releases</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://maven.apacge.org">Apache Maven</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install maven</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>dnf install maven</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/wercker/stern">stern</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install stern</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>sudo curl --output /usr/local/bin/stern -L <a href="https://github.com/wercker/stern/releases/download/1.6.0/stern_linux_amd64" class="bare">https://github.com/wercker/stern/releases/download/1.6.0/stern_linux_amd64</a> &amp;&amp; sudo chmod +x /usr/local/bin/stern</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="http://xmlstar.sourceforge.net/">xmlstarlet</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install xmlstarlet</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="http://xmlstar.sourceforge.net/" class="bare">http://xmlstar.sourceforge.net/</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/mikefarah/yq">yq</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install yq</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/mikefarah/yq/releases/latest" class="bare">https://github.com/mikefarah/yq/releases/latest</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://httpie.org/">httpie</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install httpie</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>dnf install httpie</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/JoeDog/siege">siege</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install siege</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/JoeDog/siege" class="bare">https://github.com/JoeDog/siege</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://jsonnet.org/" class="bare">https://jsonnet.org/</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install jsonnet</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/google/jsonnet" class="bare">https://github.com/google/jsonnet</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">watch</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install watch</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">it will be pre-installed</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">kubectx and kubens</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>brew install kubectx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://github.com/ahmetb/kubectx" class="bare">https://github.com/ahmetb/kubectx</a></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="download-tutorial-sources"><a class="anchor" href="#download-tutorial-sources"></a>Download Tutorial Sources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before we start to setting up the environment, lets clone the tutorial sources and call the cloned folder as <code>$TUTORIAL_HOME</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/redhat-developer-demos/knative-tutorial</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>work</code> folder in <code>$TUTORIAL_HOME</code> can be used to download the demo application resources and refer them during the exercises. The <code>work</code> folder has a README, which has instructions on source code repo and git commands to clone the sources.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This tutorial was developed and tested with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Knative <code>v0.3.0</code></p>
</li>
<li>
<p>minikube <code>v0.34.1</code></p>
</li>
<li>
<p>OpenShift <code>v3.11</code></p>
</li>
<li>
<p>minishift <code>v1.30.0+186b034</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kubernetes-cluster"><a class="anchor" href="#kubernetes-cluster"></a>Kubernetes Cluster</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="install-knative-minikube"><a class="anchor" href="#install-knative-minikube"></a>Minikube</h3>
<div class="sect3">
<h4 id="start-minikube"><a class="anchor" href="#start-minikube"></a>Configure and Start minikube</h4>
<div class="paragraph">
<p>Before installing Knative and its components, we need to add few startup config to minikube.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">minikube profile knative \<i class="conum" data-value="1"></i><b>(1)</b>

minikube start -p knative --memory=8192 --cpus=4 \<i class="conum" data-value="2"></i><b>(2)</b>
  --kubernetes-version=v1.12.0 \<i class="conum" data-value="3"></i><b>(3)</b>
  --vm-driver=hyperkit \<i class="conum" data-value="4"></i><b>(4)</b>
  --disk-size=50g \
  --extra-config=apiserver.enable-admission-plugins="LimitRanger,NamespaceExists,NamespaceLifecycle,ResourceQuota,ServiceAccount,DefaultStorageClass,MutatingAdmissionWebhook"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Setting minikube profile to <strong>knative</strong> so that all future minikube commands are executed with this profile context</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Starting a profile named <strong>knative</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Minimum kubernetes version needs to be &gt;= 1.12.0, refer to issue <a href="https://github.com/knative/serving/issues/3067" class="bare">https://github.com/knative/serving/issues/3067</a> for more details.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If you are on linux then use <code>--vm-driver=kvm2</code></td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="install-knative-istio"><a class="anchor" href="#install-knative-istio"></a>Install Istio</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl apply --filename https://github.com/knative/serving/releases/download/v0.3.0/istio-crds.yaml
kubectl apply --filename https://github.com/knative/serving/releases/download/v0.3.0/istio.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installation of istio components will take some time and its highly recommended that you start Knative components installation only after you see all istio component pods are running. The istio pods can be watched using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl -n istio-system get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <span class="keyseq"><kbd>CTRL</kbd>+<kbd>c</kbd></span> to terminate the watch</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A successful istio install will have the pods running in <code>istio-system</code> namespace as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                       READY   STATUS      RESTARTS   AGE
cluster-local-gateway-547467ccf6-857mx     1/1     Running     0          6h35m
istio-citadel-7d64db8bcf-xgdh7             1/1     Running     0          6h35m
istio-cleanup-secrets-7mjbl                0/1     Completed   0          6h35m
istio-egressgateway-6ddf4c8bd6-sglg6       1/1     Running     0          6h35m
istio-galley-7dd996474-4jhr4               1/1     Running     0          6h35m
istio-ingressgateway-84b89d647f-f9n4h      1/1     Running     0          6h35m
istio-pilot-86bb4fcbbd-ptz7n               2/2     Running     0          6h35m
istio-pilot-86bb4fcbbd-s9qxl               2/2     Running     0          6h34m
istio-pilot-86bb4fcbbd-xd887               2/2     Running     0          6h34m
istio-policy-5c4d9ff96b-tzkbw              2/2     Running     0          6h35m
istio-sidecar-injector-6977b5cf5b-9wsjw    1/1     Running     0          6h35m
istio-statsd-prom-bridge-b44b96d7b-x85xr   1/1     Running     0          6h35m
istio-telemetry-7676df547f-55p6c           2/2     Running     0          6h35m
knative-ingressgateway-75644679c7-5xwx6    1/1     Running     0          6h27m</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="install-knative-serving"><a class="anchor" href="#install-knative-serving"></a><strong>Install Knative Serving</strong></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl apply --filename https://github.com/knative/serving/releases/download/v0.3.0/serving.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installation of knative serving components will take some time, the status of the knative serving pods can be watched using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl -n knative-serving get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <span class="keyseq"><kbd>CTRL</kbd>+<kbd>c</kbd></span> to terminate the watch</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A successful Knative serving install will have the pods running in <code>knative-serving</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                          READY   STATUS    RESTARTS   AGE
activator-69b8474d6b-fhnwq    2/2     Running   0          6h33m
autoscaler-6579b57774-lcjd2   2/2     Running   0          6h33m
controller-66cd7d99df-6lt2t   1/1     Running   0          6h33m
webhook-6d9568d-htxlt         1/1     Running   0          6h33m</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="install-knative-build"><a class="anchor" href="#install-knative-build"></a><strong>Install Knative Build</strong></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl apply --filename https://github.com/knative/build/releases/download/v0.3.0/release.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installation of knative build components will take some time, the status of the  knative serving pods can be watched using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl -n knative-build get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <span class="keyseq"><kbd>CTRL</kbd>+<kbd>c</kbd></span> to terminate the watch</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A successful Knative build install will have the pods running in <code>knative-build</code> as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                READY   STATUS    RESTARTS   AGE
build-controller-658d64d9bd-4m7l9   1/1     Running   0          6h32m
build-webhook-6bb747665f-trjxg      1/1     Running   0          6h32m</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="install-knative-eventing"><a class="anchor" href="#install-knative-eventing"></a><strong>Install Knative Eventing</strong></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl apply --filename https://github.com/knative/eventing/releases/download/v0.3.0/release.yaml
kubectl apply --filename https://github.com/knative/eventing/releases/download/v0.3.0/in-memory-channel.yaml
kubectl apply --filename https://github.com/knative/eventing-sources/releases/download/v0.3.0/release.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installation of knative eventing components will take some time, the status of the  knative serving pods can be watched using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl -n knative-sources get pods -w
kubectl -n knative-eventing get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <span class="keyseq"><kbd>CTRL</kbd>+<kbd>c</kbd></span> to terminate the watch</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A successful Knative eventing install will have the pods running <code>knative-eventing</code> and <code>knative-sources</code> in as shown below:</p>
</div>
<div class="listingblock">
<div class="title">knative-eventing namespace</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                            READY   STATUS    RESTARTS   AGE
eventing-controller-cfbb757bd-lg5zk             1/1     Running   0          6h35m
in-memory-channel-controller-75d6cc4b77-f8bfl   1/1     Running   0          6h35m
in-memory-channel-dispatcher-c89db8bb8-ktr26    2/2     Running   1          6h35m
webhook-5fbb8dbcc7-gk6cx                        1/1     Running   0          6h35m</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">knative-sources namespace</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                   READY   STATUS    RESTARTS   AGE
controller-manager-0   1/1     Running   0          6h35m</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="set-knative-tutorial-ns"><a class="anchor" href="#set-knative-tutorial-ns"></a>Configuring Kubernetes namespace</h4>
<div class="paragraph">
<p>We will use a non default kubernetes namespace called <code>knativetutorial</code> for all the tutorial exercises.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl create namespace knativetutorial</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-knative-openshift"><a class="anchor" href="#install-knative-openshift"></a>OpenShift</h3>
<div class="paragraph">
<p>For OpenShift Knative installations we will use the OpenShift Cloud Function&#8217;s <a href="https://github.com/openshift-cloud-functions/knative-operators">Knative Operators</a>.</p>
</div>
<div class="paragraph">
<p>Clone the Knative Operator sources locally:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd $TUTORIAL_HOME/work
git clone https://github.com/openshift-cloud-functions/knative-operators
cd knative-operators</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="install-knative-ocp"><a class="anchor" href="#install-knative-ocp"></a>OCP</h4>
<div class="paragraph">
<p>If you have an existing OpenShift cluster then run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./etc/scripts/install.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need more details about the installation or customizations refer <a href="https://github.com/openshift-cloud-functions/Documentation/blob/master/knative-OCP.md">Knative with OpenShift</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="install-knative-minishift"><a class="anchor" href="#install-knative-minishift"></a>minishift</h4>
<div class="paragraph">
<p>Run the following commands to configure Knative with minishift:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./etc/scripts/install-on-minishift.sh <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>It will create a minishift profile and install knative.  It also assumes that you already have minishift and your computer has 10GB or more of memory</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="configure-openshift-project"><a class="anchor" href="#configure-openshift-project"></a>Configuring OpenShift project for Knative applications</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc new-project knativetutorial
oc adm policy add-scc-to-user privileged -z default <i class="conum" data-value="1"></i><b>(1)</b>
oc adm policy add-scc-to-user anyuid -z default</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>oc adm policy</code> adds the <strong>privileged</strong> <a href="https://docs.okd.io/3.10/admin_guide/manage_scc.html">Security Context Constraints(SCCs)</a>to the <strong>default</strong> Service Account. The SCCs are the precursor to the PSP (Pod Security Policy) mechanism in kubernetes.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setup-work-folder"><a class="anchor" href="#setup-work-folder"></a>Work folder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The work folder i.e <code>$TUTORIAL_HOME/work</code> can be used as a work directory during the build. The README in the work folder as the GitHub repository links of the applications <code>greeter</code> and <code>event-greeter</code> that will be used in various exercises.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This content is brought to you by <a href="http://developers.redhat.com">Red Hat Developer</a> - Register today!.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
